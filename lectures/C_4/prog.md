# Лекция 4

(function)=

## Пример собственной функции `iabs`

```cpp
#include <stdio.h> // Пример 3
// int iabs(int);   // заголовок (прототип) функции
int main()
{
    int a = 10, b = 0, c = -2;
    int d, e, f;
    d = iabs(a); // вызываем функцию iabs для фактического входного параметра a
    e = iabs(b);
    f = iabs(c);
    printf("d = %d, e = %d, f = %d", d, e, f);
    return 0; // этот оператор необязателен здесь
}
int iabs(int x)
{
    if (a < 0)
        return -a;
    return a;
}
```

## Функции с массивами без указателей

```cpp
 #include <stdio.h> // Пример 5
void cumulative(int size, int A[])
{
    int i;
    for (i = 1; i < size; i++)
        A[i] += A[i - 1];
}

void print_array(int size, const int A[])
{
    int i;
    for (i = 0; i < size; i++)
        printf("%d\n", A[i]);

}
int main()
{
    int X[] = {10, 20, 30, 40, 50};
    cumulative(5, X);
    print_array(5, X);
}
// Будет напечатано в столбик: 10 30 60 100 150

```

## Факториал, как рекурсивная функция

```cpp
#include <stdio.h> // Пример 6
double factorial(int n)
// Здесь используется double, чтобы не допустить переполнение типа int
{
    if (n <= 0)
        return 1.0;              // блок выхода
    return n * factorial(n - 1); // повторяемая часть
}
int main()
{
    int a = 5, b = 20;
    printf("%d! = %e\n%d! = %e\n", a, factorial(a), b, factorial(b));
}
/* Будет напечатано:
5! = 1.200000e+002
20! = 2.432902e+018
*/
```

## Про прототипы функций

```cpp
#include <stdio.h> // Пример 8
int B(int n); // прототип или заголовок функции B()
int A(int n)
{
 if (n > 2) return A(n-1) + B(n-2);
 return n;
}
int B(int n)
{
 if (n > 2) return B(n-1) + A(n-2);
 return n + 1;
}
int main()
{
 printf("%d\n", A(25));
}

```

## Глобальный переменные

```cpp
#include <stdio.h>    // Пример 9

int y=0, N=0;             // глобальные переменные

int sum(int x, int y) // x, y – аргументы функции sum()
{
    // Переменная y - второй параметр функции, это локальная переменная, ее
    // значение не имеет никакого отношения к одноименной глобальной переменной
    int a = y; // a - локальная переменная функции sum()
    x += a;
    N++; // подсчитываем число вызовов функции sum()
    // через глобальную переменную N
    y++; // данный оператор будет бесполезным, т.к.
    // он меняет значение локальной переменной
    printf("x = %d\n", x); // будет напечатано: x = 3
    return x;
}


int main()
{
    int x, d; // локальные переменные функции main()
    N = 0;    // присвоение значения глобальной переменной N
    y = 2;    // присвоение значения глобальной переменной y
    x = 1;    // присвоение значения локальной переменной x
    d = sum(y, x);
    // Параметру x функции присваивается значение глобальной переменной y
    // Параметру y функции присваивается значение локальной переменной x
    d = sum(y, x);
    d = sum(y, x);
    d = sum(y, x);
    // При каждом вызове функции sum() значение переменной N возрастает на 1
    printf("x = %d y = %d d = %d N = %d\n", x, y, d, N);
    return 0;
}
// Будет напечатано: x = 1 c = y d = 3 N = 4

```

## Локальная статическая переменная

```cpp
#include <stdio.h> // Пример 10

void trystat()
{
    int fade = 1;        // создание и инициализация локальной переменной
    static int stay = 1; // создание и инициализация локальной статической
    // переменной
    printf("fade = %d & stay = %d\n", fade, stay);
    fade++;
    stay++; // увеличиваем значение переменных fade и stay на единицу
    
}

int main()
{
    int count;
    printf("Try 1: ");
    trystat(); // при этом вызове происходит инициализация локальной
    // статической переменной
    for (count = 2; count <= 5; count++)
    {
        printf("Try %d: ", count);
        trystat(); // здесь инициализация локальной статической переменной
        // не происходит
    }
}
```

```cpp

```


```cpp

```

